#include <stdio.h>
#include <stdlib.h>

struct Node {
    int data;
    struct Node * next;
};
struct Node * createNode(int value)
{
    struct Node * newNode;

    newNode = (struct Node *) malloc(sizeof(struct Node));
    newNode->data = value;
    newNode->next = NULL;

    return newNode;
}
void insertNext(struct Node *curr, int value)
{

    struct Node * newNode;

    newNode = createNode(value);
    newNode->next = curr->next;
    curr->next = newNode;
}

void insertSort(struct Node *head)
{
    struct Node *curr,*p;

    curr=NULL;
    p=NULL;
    curr=head;

    while(curr->data!=NULL){
        if(curr->data>curr->next->data){
            p=curr->next;
            curr->next=curr->next->next;

            p->next=head;
            head=p;
            curr=p;
        }
        else{
            curr=curr->next;
            printAll(head);
        }
        printf("end\n");
        printf("head:%d curr:%d\n",head->data,curr->data);//안에서는 다 되는데 와일문 밖에 나가면 이상해짐..
        
    }
    printf("end\n");
    printf("head:%d",head->data);
    printAll(head);


}
struct Node * searchNode(struct Node * head, int value)
{
     struct Node * curr;
     curr = head;
     while (curr!= NULL) {
         if (curr->data == value)
         return curr;
         curr = curr->next;
     }
     return NULL;
}
void delnode(struct Node *head, int value)
{
    struct Node *curr, *p;
    p=NULL;
    curr=head;

    while(curr!=NULL){
        if(head->data==value){
            p=head;
            head=head->next;
            free(p);

            break;
        }
        else if(curr->next->data==value){
            p=curr->next;
            curr->next=curr->next->next;
            free(p);
            break;
        }
        else{
            curr=curr->next;
        }
    }
    if(curr=NULL){
        printf("!no value that you find in this list!\n");
    }
    //왜 안됨..... ㅜㅜㅜ

}
void printAll(struct Node * node)
{
     while(node != NULL) {
         printf("[%d]->", node->data);
         node = node->next;
     }
     printf("NULL\n");
}

int main()
{
     struct Node *head, *temp, *curr;


     head = NULL;
     curr=NULL;

     temp = createNode(3);
     head = temp;
     curr = temp;

     temp = createNode(5);
     curr->next = temp;
     curr = temp;

     temp = createNode(7);
     curr->next = temp;
     curr = temp;

     temp = searchNode(head, 5);
     insertNext(temp, 9);

     temp = createNode(2);
     curr->next = temp;
     curr = temp;

     temp = createNode(6);
     curr->next = temp;
     curr = temp;

     delnode(head,5);
     printAll(head);

}
